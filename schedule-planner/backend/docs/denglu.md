ä½œè€…ï¼šå”éœ‡


## ç™»å½•é¡µ

### **ç™»å½•æ¥å£**

**æ¥å£åç§°**ï¼š`/api/login`

**åŠŸèƒ½**ï¼šæ¥æ”¶ç”¨æˆ·åï¼ˆæ‰‹æœºå·æˆ–é‚®ç®±ï¼‰ã€å¯†ç ï¼ŒéªŒè¯ç”¨æˆ·èº«ä»½å¹¶è¿”å›ç™»å½•ç»“æœï¼ˆæˆåŠŸæˆ–å¤±è´¥ï¼‰ã€‚æˆåŠŸæ—¶è¿”å›ç”¨æˆ· token æˆ– session ä¿¡æ¯ï¼Œå¤±è´¥æ—¶è¿”å›é”™è¯¯ä¿¡æ¯ï¼ˆå¦‚â€œå¯†ç é”™è¯¯â€æˆ–â€œéªŒè¯ç é”™è¯¯â€ï¼‰ã€‚

**è¯·æ±‚å‚æ•°**ï¼š

| å­—æ®µ     | è¯´æ˜       | ç±»å‹   | å¤‡æ³¨                           | æ˜¯å¦å¿…å¡« |
| -------- | ---------- | ------ | ------------------------------ | -------- |
| phone    | ç”¨æˆ·æ‰‹æœºå· | string | å¦‚æœä½¿ç”¨æ‰‹æœºå·ç™»å½•ï¼Œæ­¤å­—æ®µå¿…å¡« | å¦       |
| email    | ç”¨æˆ·é‚®ç®±   | string | å¦‚æœä½¿ç”¨é‚®ç®±ç™»å½•ï¼Œæ­¤å­—æ®µå¿…å¡«   | å¦       |
| password | ç”¨æˆ·å¯†ç    | string | ç™»å½•å¯†ç                        | æ˜¯       |

**è¿”å›å‚æ•°**ï¼š

| å­—æ®µ    | è¯´æ˜         | ç±»å‹   | å¤‡æ³¨                          | æ˜¯å¦å¿…å¡« |
| ------- | ------------ | ------ | ----------------------------- | -------- |
| code    | æ¥å£çŠ¶æ€ç    | number | æˆåŠŸï¼š1ï¼Œå¤±è´¥ï¼š0              | æ˜¯       |
| message | æ¥å£è¿”å›ä¿¡æ¯ | string | æˆåŠŸï¼šsuccessï¼Œå¤±è´¥ï¼šé”™è¯¯ä¿¡æ¯ | æ˜¯       |
| data    | ç”¨æˆ·æ•°æ®     | object | ç”¨æˆ·ä¿¡æ¯ï¼ŒåŒ…æ‹¬ token å’Œå¤´åƒç­‰ | æ˜¯       |

**data** å­—æ®µï¼š

| å­—æ®µ     | è¯´æ˜           | ç±»å‹   | å¤‡æ³¨                   | æ˜¯å¦å¿…å¡« |
| -------- | -------------- | ------ | ---------------------- | -------- |
| token    | ç”¨æˆ·èº«ä»½ token | string | ç™»å½•æˆåŠŸåè¿”å›çš„ token | æ˜¯       |
| nickname | ç”¨æˆ·æ˜µç§°       | string | ç”¨æˆ·çš„æ˜µç§°             | æ˜¯       |
| avatar   | ç”¨æˆ·å¤´åƒ       | string | ç”¨æˆ·å¤´åƒ URL           | å¦       |
| email    | ç”¨æˆ·é‚®ç®±       | string | ç”¨æˆ·é‚®ç®±               | å¦       |
| phone    | ç”¨æˆ·æ‰‹æœºå·     | string | ç”¨æˆ·æ‰‹æœºå·             | å¦       |
| role     | ç”¨æˆ·è§’è‰²       | string | è§’è‰²ï¼Œå¦‚ï¼šuserï¼Œadmin  | å¦       |

**ç¤ºä¾‹è¯·æ±‚**ï¼š

```http
POST /api/login
```

è¯·æ±‚ä½“ï¼š

```json
{
  "phone": "13812345678",
  "password": "123456"
}
```

**å“åº”**ï¼š

```json
{
  "code": 1,
  "message": "success",
  "data": {
    "token": "mock-token-abc123",
    "nickname": "å¼ ä¸‰",
    "avatar": "https://example.com/avatar.jpg",
    "email": "zhangsan@example.com",
    "phone": "13812345678",
    "role": "user"
  }
}
```



### æ³¨å†Œæ¥å£

**æ¥å£åç§°**ï¼š`/api/register`

**åŠŸèƒ½**ï¼šæ¥æ”¶æ–°ç”¨æˆ·çš„ä¿¡æ¯ï¼ˆå¦‚ç”¨æˆ·åã€æ‰‹æœºå·ã€é‚®ç®±ç­‰ï¼‰ï¼ŒéªŒè¯ä¿¡æ¯åˆæ³•æ€§ï¼ˆä¾‹å¦‚ç”¨æˆ·åæ˜¯å¦å·²å­˜åœ¨ï¼‰ï¼Œç„¶ååˆ›å»ºæ–°ç”¨æˆ·è´¦æˆ·ï¼Œè¿”å›æ³¨å†Œç»“æœã€‚

**è¯·æ±‚å‚æ•°**ï¼š

| å­—æ®µ     | è¯´æ˜       | ç±»å‹   | å¤‡æ³¨                   | æ˜¯å¦å¿…å¡« |
| -------- | ---------- | ------ | ---------------------- | -------- |
| nickname | ç”¨æˆ·æ˜µç§°   | string | ç”¨æˆ·åœ¨æ³¨å†Œæ—¶è¾“å…¥çš„æ˜µç§° | æ˜¯       |
| phone    | ç”¨æˆ·æ‰‹æœºå· | string | ç”¨æˆ·æ‰‹æœºå·             | å¦       |
| email    | ç”¨æˆ·é‚®ç®±   | string | ç”¨æˆ·é‚®ç®±               | å¦       |
| password | ç”¨æˆ·å¯†ç    | string | ç”¨æˆ·å¯†ç                | æ˜¯       |

**è¿”å›å‚æ•°**ï¼š

| å­—æ®µ    | è¯´æ˜         | ç±»å‹   | å¤‡æ³¨                          | æ˜¯å¦å¿…å¡« |
| ------- | ------------ | ------ | ----------------------------- | -------- |
| code    | æ¥å£çŠ¶æ€ç    | number | æˆåŠŸï¼š1ï¼Œå¤±è´¥ï¼š0              | æ˜¯       |
| message | æ¥å£è¿”å›ä¿¡æ¯ | string | æˆåŠŸï¼šsuccessï¼Œå¤±è´¥ï¼šé”™è¯¯ä¿¡æ¯ | æ˜¯       |
| data    | ç”¨æˆ·æ•°æ®     | object | ç”¨æˆ·ä¿¡æ¯ï¼ŒåŒ…å« token å’Œå¤´åƒç­‰ | æ˜¯       |

**data** å­—æ®µï¼š

| å­—æ®µ     | è¯´æ˜           | ç±»å‹   | å¤‡æ³¨                   | æ˜¯å¦å¿…å¡« |
| -------- | -------------- | ------ | ---------------------- | -------- |
| token    | ç”¨æˆ·èº«ä»½ token | string | æ³¨å†ŒæˆåŠŸåè¿”å›çš„ token | æ˜¯       |
| nickname | ç”¨æˆ·æ˜µç§°       | string | ç”¨æˆ·çš„æ˜µç§°             | æ˜¯       |
| avatar   | ç”¨æˆ·å¤´åƒ       | string | ç”¨æˆ·å¤´åƒ URL           | å¦       |
| email    | ç”¨æˆ·é‚®ç®±       | string | ç”¨æˆ·é‚®ç®±               | å¦       |
| phone    | ç”¨æˆ·æ‰‹æœºå·     | string | ç”¨æˆ·æ‰‹æœºå·             | å¦       |
| role     | ç”¨æˆ·è§’è‰²       | string | è§’è‰²ï¼Œå¦‚ï¼šuserï¼Œadmin  | å¦       |



**ç¤ºä¾‹è¯·æ±‚**ï¼š

```http
POST /api/register
```

è¯·æ±‚ä½“ï¼š

```json
{
  "nickname": "æå››",
  "phone": "13887654321",
  "email": "lisi@example.com",
  "password": "abcd1234"
}
```

**å“åº”**ï¼š

```json
{
  "code": 1,
  "message": "success",
  "data": {
    "token": "mock-token-xyz456",
    "nickname": "æå››",
    "avatar": "https://example.com/avatar.jpg",
    "email": "lisi@example.com",
    "phone": "13887654321",
    "role": "user"
  }
}
```



### **ç»‘å®šæ‰‹æœºå·æ¥å£**

**æ¥å£åç§°**ï¼š`/api/bind`

**åŠŸèƒ½**ï¼šæ¥æ”¶ç”¨æˆ·æä¾›çš„æ‰‹æœºå·ã€æ˜µç§°å’Œå¯†ç ï¼ŒéªŒè¯ä¿¡æ¯åˆæ³•æ€§ï¼Œç»‘å®šæ‰‹æœºå·è‡³ç”¨æˆ·è´¦æˆ·ï¼ŒæˆåŠŸåè¿”å›ç”¨æˆ·ä¿¡æ¯ï¼ˆåŒ…æ‹¬ tokenï¼‰ã€‚

**è¯·æ±‚å‚æ•°**ï¼š

| å­—æ®µ     | è¯´æ˜       | ç±»å‹   | å¤‡æ³¨                 | æ˜¯å¦å¿…å¡« |
| -------- | ---------- | ------ | -------------------- | -------- |
| phone    | ç”¨æˆ·æ‰‹æœºå· | string | ç”¨æˆ·è¦ç»‘å®šçš„æ‰‹æœºå·   | æ˜¯       |
| nickname | ç”¨æˆ·æ˜µç§°   | string | ç”¨æˆ·ç»‘å®šæ—¶è¾“å…¥çš„æ˜µç§° | æ˜¯       |
| password | ç”¨æˆ·å¯†ç    | string | ç”¨æˆ·çš„å¯†ç            | æ˜¯       |

**è¿”å›å‚æ•°**ï¼š

| å­—æ®µ    | è¯´æ˜         | ç±»å‹   | å¤‡æ³¨                          | æ˜¯å¦å¿…å¡« |
| ------- | ------------ | ------ | ----------------------------- | -------- |
| code    | æ¥å£çŠ¶æ€ç    | number | æˆåŠŸï¼š1ï¼Œå¤±è´¥ï¼š0              | æ˜¯       |
| message | æ¥å£è¿”å›ä¿¡æ¯ | string | æˆåŠŸï¼šsuccessï¼Œå¤±è´¥ï¼šé”™è¯¯ä¿¡æ¯ | æ˜¯       |
| data    | ç”¨æˆ·æ•°æ®     | object | åŒ…å«ç”¨æˆ·ä¿¡æ¯ï¼ˆtokenã€æ˜µç§°ç­‰ï¼‰ | æ˜¯       |

**data** å­—æ®µï¼š

| å­—æ®µ     | è¯´æ˜           | ç±»å‹   | å¤‡æ³¨                  | æ˜¯å¦å¿…å¡« |
| -------- | -------------- | ------ | --------------------- | -------- |
| token    | ç”¨æˆ·èº«ä»½ token | string | æˆåŠŸç»‘å®šåçš„ token    | æ˜¯       |
| nickname | ç”¨æˆ·æ˜µç§°       | string | ç”¨æˆ·çš„æ˜µç§°            | æ˜¯       |
| avatar   | ç”¨æˆ·å¤´åƒ       | string | ç”¨æˆ·å¤´åƒ URL          | å¦       |
| email    | ç”¨æˆ·é‚®ç®±       | string | ç”¨æˆ·é‚®ç®±              | å¦       |
| phone    | ç”¨æˆ·æ‰‹æœºå·     | string | ç”¨æˆ·ç»‘å®šçš„æ‰‹æœºå·      | æ˜¯       |
| role     | ç”¨æˆ·è§’è‰²       | string | è§’è‰²ï¼Œå¦‚ï¼šuserï¼Œadmin | å¦       |



**ç¤ºä¾‹è¯·æ±‚**ï¼š

```http
POST /api/bind
```

è¯·æ±‚ä½“ï¼š

```json
{
  "phone": "13812345678",
  "nickname": "å¼ ä¸‰",
  "password": "123456"
}
```

**å“åº”**ï¼š

```json
{
  "code": 1,
  "message": "ç»‘å®šæˆåŠŸ",
  "data": {
    "token": "mock-token-xyz789",
    "nickname": "å¼ ä¸‰",
    "avatar": "https://example.com/avatar.jpg",
    "email": "zhangsan@example.com",
    "phone": "13812345678",
    "role": "user"
  }
}
```



### **å‘é€éªŒè¯ç æ¥å£**

**æ¥å£åç§°ï¼š**`/api/send-verification-code`

**åŠŸèƒ½**ï¼šå°†éªŒè¯ç å‘é€åˆ°ç”¨æˆ·çš„é‚®ç®±ã€‚

**è¯·æ±‚å‚æ•°**ï¼š

| å­—æ®µ  | è¯´æ˜     | ç±»å‹   | å¤‡æ³¨           | æ˜¯å¦å¿…å¡« |
| ----- | -------- | ------ | -------------- | -------- |
| email | ç”¨æˆ·é‚®ç®± | string | ç”¨æˆ·çš„é‚®ç®±åœ°å€ | æ˜¯       |

**è¿”å›å‚æ•°**ï¼š

| å­—æ®µ    | è¯´æ˜         | ç±»å‹   | å¤‡æ³¨                               | æ˜¯å¦å¿…å¡« |
| ------- | ------------ | ------ | ---------------------------------- | -------- |
| code    | æ¥å£çŠ¶æ€ç    | number | æˆåŠŸï¼š200ï¼Œå¤±è´¥ï¼š400               | æ˜¯       |
| message | æ¥å£è¿”å›ä¿¡æ¯ | string | æˆåŠŸï¼šéªŒè¯ç å·²å‘é€ï¼Œå¤±è´¥ï¼šé”™è¯¯ä¿¡æ¯ | æ˜¯       |

**ç¤ºä¾‹è¯·æ±‚**ï¼š

```http
POST /api/send-verification-code
```

è¯·æ±‚ä½“ï¼š

```json
{
  "email": "zhangsan@example.com"
}
```

**å“åº”**ï¼š

æˆåŠŸå“åº”ï¼š

```json
{
  "code": 200,
  "message": "éªŒè¯ç å·²å‘é€"
}
```

å¤±è´¥å“åº”ï¼š

```json
{
  "code": 400,
  "message": "é‚®ç®±æœªæ³¨å†Œ"
}
```

------



### **é‡ç½®å¯†ç **

**æ¥å£åç§°ï¼š**`/api/reset-password`

**åŠŸèƒ½**ï¼šé‡ç½®ç”¨æˆ·çš„å¯†ç ï¼Œéœ€æä¾›é‚®ç®±ã€éªŒè¯ç å’Œæ–°å¯†ç ã€‚

**è¯·æ±‚å‚æ•°**ï¼š

| å­—æ®µ     | è¯´æ˜     | ç±»å‹   | å¤‡æ³¨                 | æ˜¯å¦å¿…å¡« |
| -------- | -------- | ------ | -------------------- | -------- |
| email    | ç”¨æˆ·é‚®ç®± | string | ç”¨æˆ·çš„é‚®ç®±åœ°å€       | æ˜¯       |
| code     | éªŒè¯ç    | string | ç”¨æˆ·æ”¶åˆ°çš„éªŒè¯ç      | æ˜¯       |
| password | æ–°å¯†ç    | string | ç”¨æˆ·æƒ³è¦è®¾ç½®çš„æ–°å¯†ç  | æ˜¯       |

**è¿”å›å‚æ•°**ï¼š

| å­—æ®µ    | è¯´æ˜         | ç±»å‹   | å¤‡æ³¨                               | æ˜¯å¦å¿…å¡« |
| ------- | ------------ | ------ | ---------------------------------- | -------- |
| code    | æ¥å£çŠ¶æ€ç    | number | æˆåŠŸï¼š200ï¼Œå¤±è´¥ï¼š400               | æ˜¯       |
| message | æ¥å£è¿”å›ä¿¡æ¯ | string | æˆåŠŸï¼šå¯†ç é‡ç½®æˆåŠŸï¼Œå¤±è´¥ï¼šé”™è¯¯ä¿¡æ¯ | æ˜¯       |

**ç¤ºä¾‹è¯·æ±‚**ï¼š

```http
POST /api/reset-password
```

è¯·æ±‚ä½“ï¼š

```json
{
  "email": "zhangsan@example.com",
  "code": "123456",
  "password": "newpassword123"
}
```

**ç¤ºä¾‹å“åº”**ï¼š

æˆåŠŸå“åº”ï¼š

```json
{
  "code": 200,
  "message": "å¯†ç é‡ç½®æˆåŠŸ"
}
```

å¤±è´¥å“åº”ï¼š

```json
{
  "code": 400,
  "message": "å¯†ç é‡ç½®å¤±è´¥"
}
```



### **é€€å‡ºç™»å½•**

**æ¥å£åç§°**ï¼š`/api/logout`

**åŠŸèƒ½**ï¼šæ¥æ”¶ç”¨æˆ·çš„ `token`ï¼Œç”¨äºæ¸…é™¤ç”¨æˆ·ç™»å½•çŠ¶æ€å¹¶é€€å‡ºç™»å½•ã€‚

**è¯·æ±‚å‚æ•°**ï¼š

| å­—æ®µ  | è¯´æ˜           | ç±»å‹   | å¤‡æ³¨                         | æ˜¯å¦å¿…å¡« |
| ----- | -------------- | ------ | ---------------------------- | -------- |
| token | ç”¨æˆ·èº«ä»½ token | string | å½“å‰ç™»å½•ç”¨æˆ·çš„èº«ä»½éªŒè¯ token | æ˜¯       |

**è¿”å›å‚æ•°**ï¼š

| å­—æ®µ    | è¯´æ˜         | ç±»å‹   | å¤‡æ³¨                          | æ˜¯å¦å¿…å¡« |
| ------- | ------------ | ------ | ----------------------------- | -------- |
| code    | æ¥å£çŠ¶æ€ç    | number | æˆåŠŸï¼š1ï¼Œå¤±è´¥ï¼š0              | æ˜¯       |
| message | æ¥å£è¿”å›ä¿¡æ¯ | string | æˆåŠŸï¼šsuccessï¼Œå¤±è´¥ï¼šé”™è¯¯ä¿¡æ¯ | æ˜¯       |

**ç¤ºä¾‹è¯·æ±‚**ï¼š

```http
POST /api/logout
```

è¯·æ±‚ä½“ï¼š

```json
{
  "token": "mock-token-xyz789"
}
```

**ç¤ºä¾‹å“åº”**ï¼š

```json
{
  "code": 1,
  "message": "é€€å‡ºæˆåŠŸ"
}
```

**è¯´æ˜ï¼š**

- åœ¨å‰ç«¯å®ç°æ—¶ï¼Œé€€å‡ºæ—¶éœ€è¦ä¼ é€’å½“å‰ç”¨æˆ·çš„ `token`ï¼Œåç«¯æ ¹æ® `token` è¿›è¡ŒéªŒè¯åæ¸…é™¤ä¼šè¯æˆ–é”€æ¯ç”¨æˆ·çš„ç™»å½•çŠ¶æ€ã€‚
- åœ¨é€€å‡ºæˆåŠŸåï¼Œå‰ç«¯ä¼šæ¸…é™¤æœ¬åœ°å­˜å‚¨çš„ `token`ï¼Œå¹¶è·³è½¬åˆ°ç™»å½•é¡µã€‚



## ğŸ§ª Postman æµ‹è¯•æ–¹æ¡ˆ

### 1. ç”¨æˆ·æ³¨å†Œæ¥å£
**POST** `http://127.0.0.1:5000/api/register`

**Headers:**
```
Content-Type: application/json
```

**Body (raw JSON):**
```json
{
  "nickname": "æµ‹è¯•ç”¨æˆ·",
  "phone": "13812345678",
  "email": "1628980622@qq.com",
  "password": "123456"
}
```

---

### 2. ç”¨æˆ·ç™»å½•æ¥å£ï¼ˆé‚®ç®±ç™»å½•ï¼‰
**POST** `http://127.0.0.1:5000/api/login`

**Headers:**
```
Content-Type: application/json
```

**Body (raw JSON):**
```json
{
  "email": "1628980622@qq.com",
  "password": "123456"
}
```

---

### 3. ç”¨æˆ·ç™»å½•æ¥å£ï¼ˆæ‰‹æœºå·ç™»å½•ï¼‰
**POST** `http://127.0.0.1:5000/api/login`

**Headers:**
```
Content-Type: application/json
```

**Body (raw JSON):**
```json
{
  "phone": "13812345678",
  "password": "123456"
}
```

---

### 4. å‘é€éªŒè¯ç æ¥å£
**POST** `http://127.0.0.1:5000/api/send-verification-code`

**Headers:**
```
Content-Type: application/json
```

**Body (raw JSON):**
```json
{
  "email": "1628980622@qq.com",
  "type": "bind_phone"
}
```

---

### 5. ç»‘å®šæ‰‹æœºå·æ¥å£
**POST** `http://127.0.0.1:5000/api/bind`

**Headers:**
```
Content-Type: application/json
```

**Body (raw JSON):**
```json
{
  "token": "ç™»å½•åè·å–çš„token",
  "phone": "13987654321",
  "verification_code": "é‚®ä»¶ä¸­æ”¶åˆ°çš„éªŒè¯ç "
}
```

---

### 6. ç”¨æˆ·é€€å‡ºæ¥å£
**POST** `http://127.0.0.1:5000/api/logout`

**Headers:**
```
Content-Type: application/json
```

**Body (raw JSON):**
```json
{
  "token": "ç™»å½•åè·å–çš„token"
}
```



Content-Type: application/json